## Amazon Aurora
Amazon Auroraは、AWSで提供されている完全マネージド型のRDBエンジン。  
MySQL・PostgreSQLとの互換性があり、それらと同じコードやツールに対応している。

## 特徴
* 既存のMySQL・PostgreSQLからの移行が簡単
* マネージド型のため、オンプレで行う必要のある管理作業のほとんどが不要
  - OSのアップデート、ミドルウェアの管理など
* DBのクラスター・レプリケーションを簡単にできる
* 同じくAWS提供のサービスであるRDSとの連携がしやすい

## RDSとの関連性
Auroraは`Amazon RDS`の一部であり、RDSで使用するDBエンジンとして  
Auroraを選択できるようになっている。

## クラスター
Auroraではクラスターという概念によってDBを管理する。  
クラスターは以下の3つで構成される。

* クラスターボリューム
* プライマリDBインスタンス
* Auroraレプリカ

### クラスターボリューム
DBデータのコピーが保存されるデータストレージ。  
各インスタンスはここからデータを読み込む。

### プライマリDBインスタンス
クラスターに1つある、データの読み書きができるインスタンス。
クラスターボリュームのデータ更新はここで行う。
 
### Auroraレプリカ
データの読み込みだけができるインスタンス。  
クラスターボリュームからデータを読み込む。

プライマリDBインスタンスが落ちた時は、このレプリカが代わりに読み書きする。（フェイルオーバー）  
レプリカは複数のアベイラビリティゾーンに配置できるため、  
どこかが障害で落ちても安心。

### 3つの関係性
![](./image/AuroraArch001.png)

プライマリDBインスタンスからクラスターボリュームのデータを更新し、  
クラスターボリュームからレプリカがデータを読み込んで同期する。

プライマリDBインスタンスが落ちても、他のレプリカが自動的に代わりを務めてくれるため  
可用性がとても高い。