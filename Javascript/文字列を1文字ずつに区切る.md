# Javascriptで文字列を1文字ずつに区切る
UTF-8の文字列を1文字単位で分割する方法について記載する。

## 参考資料
UTF-8文字列を1文字単位に分割  
https://qiita.com/quzq/items/8fb032242fcd50e393f3

## 文字列を分割する
Javascriptで文字列を分割する方法はいくつかある。

* `String.split()`
* スプレッド構文
* `Array.From()`

## `String.split()`
`split()`は、指定した文字で文字列を分割するメソッド。
```Javascript
console.log("te,st,hog,e".split(","));
// 出力: (4) ['te', 'st', 'hog', 'e']
```

引数に何も指定しなければ、1文字ずつの分割になる。
```Javascript
console.log("test".split(""));
// 出力: (4) ['t', 'e', 's', 't']

console.log("あいうえお".split(""));
// 出力: (5) ['あ', 'い', 'う', 'え', 'お']
```

## スプレッド構文
スプレッド構文によって、配列や文字列などの反復可能オブジェクトを  
展開することができる。

配列の初期化時に文字列をスプレッド構文で展開すると、  
1文字ずつの配列にできる。

```Javascript
// []による配列の初期化時に文字列を展開して渡す
console.log([..."test"]);
// 出力: (4) ['t', 'e', 's', 't']
```

## `Array.from()`
反復可能オブジェクトから配列を生成する`Array.from()`によって、  
文字列を1文字ずつに分割できる。

```Javascript
console.log(Array.from("test"));
// 出力: (4) ['t', 'e', 's', 't']
```

## 4バイト文字を想定する
`𠀋`などの4バイト文字は、`String.split()`では正しく分割できない。  
スプレッド構文や`Array.from()`を使って分割する必要がある。

```Javascript
console.log("4バイト文字(𠀋)".split(""));
// 出力: (10) ['4', 'バ', 'イ', 'ト', '文', '字', '(', '\uD840', '\uDC0B', ')']

console.log([..."4バイト文字(𠀋)"]);
// 出力: (9) ['4', 'バ', 'イ', 'ト', '文', '字', '(', '𠀋', ')']

console.log(Array.from("4バイト文字(𠀋)"));
// 出力: (9) ['4', 'バ', 'イ', 'ト', '文', '字', '(', '𠀋', ')']
```