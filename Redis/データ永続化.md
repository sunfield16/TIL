Redisで書き込んだデータを永続化する方法は主に２つ。

* RDB(`Redis Database`)
* AOF(`Append Only File`)

## RDB(`Redis Database`)
一定時間・一定書き込み数ごとにスナップショットを自動で保存する

* 単一のファイルで容量がコンパクト、かつデータのバージョン管理がしやすい
	- バックアップに適している
* スナップショットからの復旧が速く終わりやすい
* Redisのパフォーマンスに影響を与えにくい
* 何かあって強制終了したときは、直前のスナップショット以降のデータは消滅してしまう
	- そのためデータ損失の被害を最小限に抑える必要がある時は厳しい

## AOF(`Append Only File`)
データの書き込み操作をログファイルとして逐次保存していく。  
サーバーの起動時にそれを再現することで復旧させる仕組み。

* デフォルトでも１秒ごとの同期を行い、耐久性がとても高い
	- 強制終了してもデータ損失は直近の１秒で済む
* ログファイルは簡単にエクスポートでき、Redisのシンプルな追加操作で記述してあるため編集しやすい
	- もしコマンドを間違えてデータを全削除しても、AOFのファイルから削除コマンドを消して再起動すれば戻せる
* RDBよりもファイルの容量が大きくなる
* AOFの設定によってはRDBよりも負荷が大きくなる可能性がある